{% extends 'backoffice/base.html' %}
{% block content %}
{% load static %}
<div class="row">
  <div class="col-md-12">
    <h2>
      แก้ไขเกณฑ์ โครงการ{{ project.title }} ({{ admission_round }})
    </h2>
    {% if notice %}
    <div class="alert alert-success">{{ notice }}</div>
    {% endif %}
    <form method="post">
      {% csrf_token %}
      <div id="add-criterion-form"></div>
      <button class="btn btn-primary" type="submit">แก้ไขเกณฑ์</button>
    </form>
    <script>

      const relationRequired = [
        {
          "value": "OR",
          "label": "ข้อใดข้อหนึ่ง"
        },
        {
          "value": "AND",
          "label": "ทุกข้อ"
        },
        {
          "value": "SUM",
          "label": "ใช้คะแนนรวม"
        },
        {
          "value": "MAX",
          "label": "ใช้คะแนนมากที่สุด"
        }
      ]
      const relationScoring = [
        {
          "value": "MAX",
          "label": "ใช้คะแนนมากที่สุด"
        },
        {
          "value": "SUM",
          "label": "ใช้คะแนนรวมตามสัดส่วน"
        }
      ]
      const general_required_tags = [
        {
          "score_type": "GPAX_5_SEMESTER",
          "description": "ผลการเรียนเฉลี่ยสะสม (GPAX) 5 ภาคเรียน", "unit": ""
        },
        {
          "score_type": "GPAX",
          "description": "ผลการเรียนเฉลี่ยสะสม (GPAX)", "unit": ""
        },
        {
          "score_type": "STUDY_AT_12",
          "description": "เป็นผู้ที่กำลังศึกษาอยู่ชั้นมัธยมศึกษาปีที่ 6 หรือเทียบเท่า", "unit": ""
        },
        {
          "score_type": "GRAD_OR_STUDY_AT_12",
          "description": "กำลังศึกษาหรือสำเร็จศึกษาชั้นมัธยมศึกษาปีที่ 6 หรือเทียบเท่า", "unit": ""
        },
        {
          "score_type": "UNIT_MATH",
          "description": "เรียนรายวิชาในกลุ่มสาระการเรียนรู้คณิตศาสตร์", "unit": ""
        },
        {
          "score_type": "UNIT_FOREIGN",
          "description": "เรียนรายวิชาในกลุ่มสาระการเรียนรู้ภาษาต่างประเทศ", "unit": ""
        },
        {
          "score_type": "UNIT_SCI",
          "description": "เรียนรายวิชาในกลุ่มสาระการเรียนรู้วิทยาศาสตร์", "unit": ""
        },
      ]
      const general_scoring_tags = [
        {
          "score_type": "GPAX_5_SEMESTER",
          "description": "ผลการเรียนเฉลี่ยสะสม (GPAX) 5 ภาคเรียน", "unit": ""
        },
        {
          "score_type": "GPAX",
          "description": "ผลการเรียนเฉลี่ยสะสม (GPAX)", "unit": ""
        },
        { "score_type": "INTERVIEW", "description": "การสอบสัมภาษณ์", "unit": "" },
        {
          "score_type": "INTERVIEW_ENGLISH",
          "description": "การสอบสัมภาษณ์เป็นภาษาอังกฤษ", "unit": ""
        },
      ]
      const test_tags = [
        {
          "score_type": "ONET",
          "description": "O-NET (5 กลุ่มสาระวิชา)", "unit": "คะแนน"
        },
        {
          "score_type": "ONET_THA",
          "description": "O-NET (01) ภาษาไทย", "unit": "คะแนน"
        },
        {
          "score_type": "ONET_SOC",
          "description": "O-NET (02) สังคมศึกษา", "unit": "คะแนน"
        },
        {
          "score_type": "ONET_ENG",
          "description": "O-NET (03) ภาษาอังกฤษ", "unit": "คะแนน"
        },
        {
          "score_type": "ONET_MAT",
          "description": "O-NET (04) คณิตศาสตร์", "unit": "คะแนน"
        },
        {
          "score_type": "ONET_SCI",
          "description": "O-NET (04) วิทยาศาสตร์", "unit": "คะแนน"
        },
        { "score_type": "GAT", "description": "GAT", "unit": "คะแนน" },
        { "score_type": "PAT_1", "description": "PAT 1", "unit": "คะแนน" },
        { "score_type": "PAT_2", "description": "PAT 2", "unit": "คะแนน" },
        { "score_type": "PAT_3", "description": "PAT 3", "unit": "คะแนน" },
        { "score_type": "PAT_4", "description": "PAT 4", "unit": "คะแนน" },
        { "score_type": "PAT_5", "description": "PAT 5", "unit": "คะแนน" },
        { "score_type": "PAT_6", "description": "PAT 6", "unit": "คะแนน" },
        { "score_type": "PAT_7_1", "description": "PAT 7", "unit": "คะแนน" },
        { "score_type": "PAT_7_1", "description": "PAT 7.1", "unit": "คะแนน" },
        { "score_type": "PAT_7_2", "description": "PAT 7.2", "unit": "คะแนน" },
        { "score_type": "PAT_7_3", "description": "PAT 7.3", "unit": "คะแนน" },
        { "score_type": "PAT_7_4", "description": "PAT 7.4", "unit": "คะแนน" },
        { "score_type": "PAT_7_5", "description": "PAT 7.5", "unit": "คะแนน" },
        { "score_type": "PAT_7_6", "description": "PAT 7.6", "unit": "คะแนน" },
        { "score_type": "PAT_7_7", "description": "PAT 7.7", "unit": "คะแนน" },
        { "score_type": "TOEFL_PBT_ITP", "description": "TOEFL PBT/ITP", "unit": "คะแนน" },
        { "score_type": "TOEFL_CBT", "description": "TOEFL CBT", "unit": "คะแนน" },
        { "score_type": "TOEFL_IBT", "description": "TOEFL IBT", "unit": "คะแนน" },
        { "score_type": "IELTS", "description": "IELTS", "unit": "คะแนน" },
        { "score_type": "OOPT", "description": "OOPT", "unit": "คะแนน" },
        { "score_type": "KU_EPT", "description": "KU-EPT", "unit": "คะแนน" },
        { "score_type": "9SUB", "description": "วิชาสามัญ 9 วิชา", "unit": "คะแนน" },
      ]
      const requiredTags = general_required_tags.concat(test_tags)
      const scoringTags = general_scoring_tags.concat(test_tags)
      const unitTags = [
        "คะแนน",
        "หน่วยกิต",
      ];
    </script>
    <script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script>

    <!-- Mameaw: to modify react component go to "/main/static/react" 
      run "yarn" then "yarn dev" and modify file in src folder-->
    <script src="{% static "react/CreateCriterionForm.js" %}" data-majors='{{ majors|safe }}'
      data-selected-majors='{{ data_selected_majors|safe }}' data-required='{{ data_required|safe }}'
      data-scoring='{{ data_scoring|safe }}'></script>
    <style>
      .table td {
        vertical-align: baseline;
      }

      td input.form-control:not(:focus):not(:hover),
      td textarea.form-control:not(:focus):not(:hover) {
        border-width: 0;
      }

      td input,
      textarea {
        resize: none;
      }

      .ui-autocomplete {
        max-height: 250px;
        overflow-y: auto;
      }
    </style>
  </div>
</div>
{% endblock %}